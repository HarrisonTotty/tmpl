Unit Tests File
---------------
The resulting file of this template doesn't really contain anything - it's just
used to test various built-in Jinja functions.

{% do print('----- Running unit tests -----') %}

{% if domain_join('foo', 'example.com') == 'foo.example.com' %}
{% do print('domain_join   : passed') %}
{% else %}
{% do raise('domain_join   : failed') %}
{% endif %}

{% if env('SOME_LONG_ENV_VAR_THAT_DOESNT_EXIST', 'value') == 'value' %}
{% do print('env           : passed') %}
{% else %}
{% do raise('env           : failed') %}
{% endif %}

{% if file == 'unit-tests.out' %}
{% do print('file          : passed') %}
{% else %}
{% do raise('file          : failed') %}
{% endif %}

{% if file_ext('foo/example.txt') == 'txt' %}
{% do print('file_ext      : passed') %}
{% else %}
{% do raise('file_ext      : failed') %}
{% endif %}

{% if file_name('foo/example.txt') == 'example' %}
{% do print('file_name     : passed') %}
{% else %}
{% do raise('file_name     : failed') %}
{% endif %}

{% if path_basename('foo/example.txt') == 'example.txt' %}
{% do print('path_basename : passed') %}
{% else %}
{% do raise('path_basename : failed') %}
{% endif %}

{% if path_dirname('foo/example.txt') == 'foo' %}
{% do print('path_dirname  : passed') %}
{% else %}
{% do raise('path_dirname  : failed') %}
{% endif %}

{% if path_join('foo', 'bar') == 'foo/bar' %}
{% do print('path_join     : passed') %}
{% else %}
{% do raise('path_join     : failed') %}
{% endif %}